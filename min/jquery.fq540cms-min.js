!function($,t,e,s){"use strict";function a(t,e){this.element=t,this.settings=$.extend({},c,e),this._defaults=c,this._name=i,this.init()}var i="fq540cms",c={devices:null,showDevices:!0,skuType:"financing30",deviceFace:"front",addToCartClass:".fq_atc",orderLTR:"high",template:"default-template.php",templateRoot:"https://uscc-data.fq540.com/fq540cms/templates/css/",imageRoot:"https://www.uscellularmedia.com/bannerland/vendor/f/images/devices/",useJS:!1,coreJS:["https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.2/js/tether.min.js","https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/js/bootstrap.min.js"],cacheJS:!0,useCSS:!0,coreCSS:["https://www.uscellularmedia.com/bannerland/vendor/f/fonts/uscc-fonts.min.css","https://uscc-data.fq540.com/fq540cms/templates/css/default-modal.css"]};$.extend(a.prototype,{init:function(){this.loadCoreCSS(),this.settings.useJS&&this.loadCoreJS(),this.settings.useCSS&&this.getTemplateCSS(),this.settings.showDevices&&this.getDeviceDetails(this.element,this.settings.devices,this.quickViewCarousel),this.addToCart(),this.quickView()},loadCoreCSS:function(){for(var t=0;t<this.settings.coreCSS.length;t++)$("<link/>",{rel:"stylesheet",type:"text/css",href:this.settings.coreCSS[t]}).appendTo("head")},loadCoreJS:function(){this.settings.cacheJS&&$.ajaxSetup({cache:!0});for(var t=0;t<this.settings.coreJS.length;t++)$.getScript(this.settings.coreJS[t])},getTemplateCSS:function(){var t=this.settings.template.slice(0,-4);$("<link/>",{rel:"stylesheet",type:"text/css",href:this.settings.templateRoot+t+".css"}).appendTo("head")},getDeviceDetails:function(t,e,s){if(!$.isArray(e)||!e.length)return $.error("Error retrieving devices. Please check to see that you are submitting an array of product IDs.");var a=this.generateImageURL(e);$.post("https://uscc-data.fq540.com/fq540cms/fq540cms.php",{devices:JSON.stringify(e),deviceImages:JSON.stringify(a),skuType:this.settings.skuType,deviceFace:this.settings.deviceFace,quickView:this.settings.quickView,orderLTR:this.settings.orderLTR,template:this.settings.template},function(e){$(t).html(e),"function"==typeof s&&s()})},generateImageURL:function(t){for(var e=[],s=0;s<t.length;s++)e.push(this.settings.imageRoot+t[s]+"/"+t[s]+"_"+this.settings.deviceFace+".png");return e},quickView:function(){$(e.body).on("click",".qv-icon",function(t){t.preventDefault();var e=$(this).closest(".device").attr("data-qv");$("#"+e).modal("show")})},quickViewCarousel:function(){var t=0;$(".carousel-container").each(function(){$(this).attr("data-carousel",t),$(this).find(".carousel-ul li:first").before($(this).find(".carousel-ul li:last")),t++}),$(e.body).on("click",".right-scroll",function(){var t='.carousel-container[data-carousel="'+$(this).parent(".carousel-container").attr("data-carousel")+'"]',e=$(t+" .carousel-ul li").outerWidth()+10,s=parseInt($(t+" .carousel-ul").css("left"))-e;$(t+" .carousel-ul:not(:animated)").animate({left:s},500,function(){$(t+" .carousel-ul li:last").after($(t+" .carousel-ul li:first")),$(t+" .carousel-ul").css({left:"-355px"})})}),$(e.body).on("click",".left-scroll",function(){var t='.carousel-container[data-carousel="'+$(this).parent(".carousel-container").attr("data-carousel")+'"]',e=$(t+" .carousel-ul li").outerWidth()+10,s=parseInt($(t+" .carousel-ul").css("left"))+e;$(t+" .carousel-ul:not(:animated)").animate({left:s},500,function(){$(t+" .carousel-ul li:first").before($(t+" .carousel-ul li:last")),$(t+" .carousel-ul").css({left:"-355px"})})})},addToCart:function(){$(e.body).on("click",this.settings.addToCartClass,function(t){t.preventDefault()}),this.atcGetParams("preadd-prodid")&&this.atcGetParams("preadd-sku")&&this.atcGetParams("preadd-skutype")&&setTimeout(function(){this.atcPreloadCart(this.atcGetParams("preadd-prodid"),this.atcGetParams("preadd-sku"),this.atcGetParams("preadd-skutype"))},10)},atcAddToCart:function(e,s,a){t.location.hash="cart";var i=t.open(location.href.replace(/.html.*/,"")+".html&preadd-prodid="+e+"&preadd-sku="+s+"&preadd-skutype="+a);i.focus()},atcPreloadCart:function(e,s,a){"object"==typeof _cpga&&_cpga.cart.addItem(e,a,"device",1),"#cart"!==t.location.hash&&(this.atcAddToCart(e,s,a),t.location.hash="cart")},atcGetParams:function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),s=e.exec(location.search);return null===s?"":decodeURIComponent(s[1].replace(/\+/g," "))}}),$.fn[i]=function(t){return this.each(function(){$.data(this,"plugin_"+i)||$.data(this,"plugin_"+i,new a(this,t))})}}(jQuery,window,document);